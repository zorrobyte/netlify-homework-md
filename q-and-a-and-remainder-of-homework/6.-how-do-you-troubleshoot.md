# 6. How do you troubleshoot?

> A customer writes in to Support saying simply that their “site won’t build”. You have access to their build logs, and there you see this error: Build failed due to a user error: Build script returned non-zero exit code: 2. You have no more information than this and the site’s source repository is private so you cannot test the build yourself. How would you troubleshoot this issue? What steps would you take? Also, please compose your best customer-facing first response.

***



Howdy, Dave!

Thank you for reaching out to Netlify support, my name is Ross and I'm here to help!

I'm sorry to hear that you're experiencing issues with your build. Not to worry, we'll work on this and find a good resolution together!

I can see that your `badger-badger-badger` application is failing due to a non-zero exit code: 2.  There could be several causes of this, such as a missing dependency, mismatched node.js version, file permissions, or even syntax errors.

While I don't have access to your codebase, I did find in your logs that you are using the `bcrypt` library in your project. The reason for the build failure is due to [bcrypt](https://www.npmjs.com/package/bcrypt) requiring the [node-gyp](https://github.com/nodejs/node-gyp) dependency, which may not install in a serverless environment.

A personal favorite of mine is [bcryptjs](https://www.npmjs.com/package/bcryptjs) which is just as, or more performant and has zero dependencies.&#x20;

Make sure you remove the `bcrypt` package first and then install the `bcryptjs` package

```undefined
npm uninstall bcrypt

npm install bcryptjs
```

This should help you get back up and running quickly! Please let me know if this resolves the issue for you!

Best

Ross Fisher

Netlify Support

***

While I hope that I put my troubleshooting skillsets on full display while deploying my [full stack node app](../baby-steps-initial-deployment/), I'd be happy to share a bit about how I'd approach this specific issue:

1. My first step would be to look at the logs, any obvious issues? In the example above, I pretended to find a build failure to due an unmet dependency (something I personally ran into myself)
2. Let's imagine I couldn't find an immediate issue in the logs. After checking statuspage for any Netlify platform issues, the next step would be for me to follow up with the customer and ask for some of the information I positioned in my initial reply, such as Node version, dependencies, file permissions, etc to try and build a mental model of their specific environment
3. Imagining the issue is still persuasive and everything is checking out, I'd attempt to replicate the issue in my Netlify account. This may or may not involve questions to the customer as to their specific environment, or asking for a code example
4. If I still had issues, I'd pair with a teammate and put my learning cap on, there is likely an edge case or something I could learn. This is the point that I'd start thinking about proactively scheduling a call with the customer
5. Failing all of that and the issue persists with an unclear cause, I'd check with Ops, Engineering to see if we have any not yet reported outages or funk with the platform
6. Lastly, I'd pair with engineering if we still don't know what is going on with the deployment, sharing the steps I've taken up until this point, relevant URLs, etc to minimize their time invested to assist

Of course, specific steps always vary depending on the specific issue at hand, but my troubleshooting method can be summarized at a high level as PAIR. You can learn more about this process here:

{% embed url="https://www.linkedin.com/pulse/art-troubleshooting-pair-process-kian-griffin/" %}
